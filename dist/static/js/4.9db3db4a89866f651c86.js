webpackJsonp([4],{DiMs:function(e,t,a){"use strict";t.a={name:"business-product",props:{isCollapse:!0},data:function(){return{scaleImages:[],pics:[],product:{sale_id:0,auction_id:3,number:"",currency:"￥",price:"",valuation:"",material:[],measurement_unit:"cm",inch:"",weight_unit:"g",weight:"",item_status:"完好",come_from:"",origin:"中国",origin2:"",year:"公元",year2:"",category:"画意",category2:"",category3:"",author:"",pics:[]},groups:[{label:"金属",options:[{value:"金",label:"金"},{value:"银",label:"银"},{value:"铁",label:"铁"},{value:"铜",label:"铜"}]},{label:"石材",options:[{value:"钻石",label:"钻石"},{value:"大理石",label:"大理石"},{value:"玉石",label:"玉石"},{value:"水晶",label:"水晶"}]},{label:"布料",options:[{value:"锦",label:"锦"},{value:"罗",label:"罗"},{value:"绸",label:"绸"},{value:"缎",label:"缎"}]},{label:"其它",options:[{value:"木头",label:"木头"},{value:"纸",label:"纸"},{value:"皮革",label:"皮革"},{value:"玻璃",label:"玻璃"},{value:"毛料",label:"毛料"}]}]}},created:function(){this.product.sale_id=+this.$route.params.id,this.product.auction_id=+this.$route.query.auction_id,this.product.sale_id&&this.getProduct(this.product.sale_id)},mounted:function(){var e=this;setTimeout(function(){e.initUpload()},1e3)},methods:{getProduct:function(e){var t=this,a=API.business.GET_SALE,l={sale_id:e};return request.get(a,l).then(function(e){if(e&&e.data){var a=e.data;return console.log(e),t.product=a,t.pics=t.product.pics,a}}).catch(function(e){console.log(e)})},initUpload:function(){var e=this;Qiniu.uploader({disable_statistics_report:!1,runtimes:"html5,flash,html4",browse_button:"file",uptoken_url:API.business.UPTOKEN,get_new_uptoken:!1,domain:"http://ox4oktbuv.bkt.clouddn.com/",container:"container",max_file_size:"100mb",max_retries:3,dragdrop:!0,drop_element:"container",chunk_size:"4mb",auto_start:!0,resize:{quality:60},init:{FilesAdded:function(t,a){plupload.each(a,function(t){var a=new FileReader;a.onload=function(t){var a=t.target.result;e.pics.push(a)},a.readAsDataURL(t.getNative())})},BeforeUpload:function(e,t){},UploadProgress:function(e,t){},FileUploaded:function(t,a,l){var o=t.getOption("domain"),i=JSON.parse(l.response),n=o+i.key,r=1,s=a.id;e.pics.forEach(function(e,t){if(s===e.id)return void(r=t)}),e.product.pics.push(n)},Error:function(e,t,a){},UploadComplete:function(){},Key:function(e,t){var a=t.id,l=t.name;return a+(l&&l.substring(l.indexOf("."))||"")}}})},handlelaodImg:function(e){var t=this,a=e.target,l=(a.parentNode,a.dataset.src||a.src),o=+a.dataset.index||0,i=a.naturalWidth||a.width,n=a.naturalHeight||a.height;if(l){var r={src:l,w:i||750,h:n||520};this.scaleImages[o]=r;var s=new Image;s.onload=function(e){t.scaleImages.forEach(function(e){l===e.src&&(e.w=s.naturalWidth||s.width,e.h=s.naturalHeight||s.height)})},s.src=l}},handleScaleImage:function(e){var t=e.target,a=(t.dataset.src||t.src,document.querySelector(".J_pswp")),l=+t.dataset.index||0,o=this.scaleImages,i={index:l,loop:!1,maxSpreadZoom:5,showAnimationDuration:300,hideAnimationDuration:300,showHideOpacity:!0,closeEl:!1,captionEl:!1,fullscreenEl:!1,zoomEl:!1,shareEl:!1,counterEl:!1,arrowEl:!1,preloaderEl:!1,isClickableElement:function(e){},getThumbBoundsFn:function(e){var a=t,l=window.pageYOffset||document.documentElement.scrollTop,o=a.getBoundingClientRect();return{x:o.left,y:o.top+l,w:o.width}}};this.gallery=null,(this.gallery=new PhotoSwipe(a,PhotoSwipeUI_Default,o,i)).init()},handelconfirm:function(){var e=this,t=API.business.CREAT_PRODUCT;return request.post(t,this.product).then(function(t){if(t&&t.data){var a=t.data;return console.log(t),e.$message({showClose:!0,message:"拍品创建成功",type:"success"}),e.product={sale_id:0,auction_id:3,number:"",currency:"￥",price:"",valuation:"",material:[],measurement_unit:"cm",inch:"",weight_unit:"g",weight:"",item_status:"完好",come_from:"",origin:"中国",origin2:"",year:"公元",year2:"",category:"画意",category2:"",category3:"",author:"",pics:[]},a}}).catch(function(e){console.log(e)})}}}},HXpv:function(e,t,a){"use strict";function l(e){a("XgT2")}Object.defineProperty(t,"__esModule",{value:!0});var o=a("DiMs"),i=a("kAf9"),n=a("VU/8"),r=l,s=n(o.a,i.a,r,"data-v-1d115b71",null);t.default=s.exports},JdkT:function(e,t,a){t=e.exports=a("FZ+f")(!0),t.i(a("PLky"),""),t.push([e.i,'.page-fixed[data-v-1d115b71]{z-index:1;position:fixed;top:0;left:0;width:100%}.business__product[data-v-1d115b71]{padding:20px 0;max-width:650px}.image__list[data-v-1d115b71]{display:-webkit-box;display:-ms-flexbox;display:-webkit-flex;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:start;-ms-flex-pack:start;justify-content:flex-start;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-flow:row wrap;flex-flow:row wrap;padding:15px 0 13px}.image__list .image--add[data-v-1d115b71]{position:relative;margin:0 .8% 1.6%;width:31.733%;padding-bottom:31.733%;border-radius:2px;border:1px solid #c8c8c8;cursor:pointer}.image__list .image--add .camera[data-v-1d115b71]{z-index:1;position:absolute;top:0;left:0;bottom:0;width:100%;opacity:0}.image__list .image--add[data-v-1d115b71]:after,.image__list .image--add[data-v-1d115b71]:before{content:"";position:absolute;top:50%;left:50%;width:53px;height:1px;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%);background:#c8c8c8}.image__list .image--add[data-v-1d115b71]:after{width:1px;height:53px}.image__list .pic-view[data-v-1d115b71]{position:relative;margin:0 .8% 1.6%;width:31.733%;padding-bottom:31.733%;background:#c8c8c8;border-radius:2px;overflow:hidden;-webkit-touch-callout:none}.image__list .pic-view img[data-v-1d115b71]{position:absolute;top:50%;left:50%;display:block;max-width:100%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}.image__list .pic-view .pic--loading[data-v-1d115b71]{width:75%}',"",{version:3,sources:["/Users/dong/Desktop/chenzhou/work/purart/src/pages/business/product.vue"],names:[],mappings:"AAGA,6BACE,UAAW,AACX,eAAgB,AAChB,MAAO,AACP,OAAQ,AACR,UAAY,CACb,AACD,oCACE,eAAgB,AAChB,eAAiB,CAClB,AAID,8BACE,oBAAqB,AACrB,oBAAqB,AACrB,qBAAsB,AACtB,aAAc,AACd,yBAA0B,AACtB,sBAAuB,AACnB,mBAAoB,AAC5B,uBAAwB,AACpB,oBAAqB,AACjB,2BAA4B,AACpC,8BAA+B,AAC/B,6BAA8B,AAC1B,uBAAwB,AACpB,mBAAoB,AAC5B,mBAAqB,CACtB,AACD,0CACI,kBAAmB,AACnB,kBAAoB,AACpB,cAAe,AACf,uBAAwB,AACxB,kBAAmB,AACnB,yBAA0B,AAC1B,cAAgB,CACnB,AACD,kDACM,UAAW,AACX,kBAAmB,AACnB,MAAO,AACP,OAAQ,AACR,SAAU,AACV,WAAY,AACZ,SAAW,CAChB,AACD,iGAEI,WAAY,AACZ,kBAAmB,AACnB,QAAS,AACT,SAAU,AACV,WAAY,AACZ,WAAY,AACZ,uCAAyC,AACjC,+BAAiC,AACzC,kBAAoB,CACvB,AACD,gDACI,UAAW,AACX,WAAa,CAChB,AACD,wCACI,kBAAmB,AACnB,kBAAoB,AACpB,cAAe,AACf,uBAAwB,AACxB,mBAAoB,AACpB,kBAAmB,AACnB,gBAAiB,AACjB,0BAA4B,CAC/B,AACD,4CACM,kBAAmB,AACnB,QAAS,AACT,SAAU,AACV,cAAe,AACf,eAAgB,AAChB,uCAAyC,AACjC,8BAAiC,CAC9C,AACD,sDACM,SAAW,CAChB",file:"product.vue",sourcesContent:["\n@charset \"UTF-8\";\n@import url(~@/style/base.css);\n.page-fixed[data-v-1d115b71] {\n  z-index: 1;\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100%;\n}\n.business__product[data-v-1d115b71] {\n  padding: 20px 0;\n  max-width: 650px;\n}\n\n/*-------------------*  $ 图片作答\n\\*-------------------*/\n.image__list[data-v-1d115b71] {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: -webkit-flex;\n  display: flex;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center;\n  -webkit-box-pack: start;\n      -ms-flex-pack: start;\n          justify-content: flex-start;\n  -webkit-box-orient: horizontal;\n  -webkit-box-direction: normal;\n      -ms-flex-flow: row wrap;\n          flex-flow: row wrap;\n  padding: 15px 0 13px;\n}\n.image__list .image--add[data-v-1d115b71] {\n    position: relative;\n    margin: 0 0.8% 1.6%;\n    width: 31.733%;\n    padding-bottom: 31.733%;\n    border-radius: 2px;\n    border: 1px solid #C8C8C8;\n    cursor: pointer;\n}\n.image__list .image--add .camera[data-v-1d115b71] {\n      z-index: 1;\n      position: absolute;\n      top: 0;\n      left: 0;\n      bottom: 0;\n      width: 100%;\n      opacity: 0;\n}\n.image__list .image--add[data-v-1d115b71]:before,\n  .image__list .image--add[data-v-1d115b71]:after {\n    content: '';\n    position: absolute;\n    top: 50%;\n    left: 50%;\n    width: 53px;\n    height: 1px;\n    -webkit-transform: translate(-50%, -50%);\n            transform: translate(-50%, -50%);\n    background: #C8C8C8;\n}\n.image__list .image--add[data-v-1d115b71]:after {\n    width: 1px;\n    height: 53px;\n}\n.image__list .pic-view[data-v-1d115b71] {\n    position: relative;\n    margin: 0 0.8% 1.6%;\n    width: 31.733%;\n    padding-bottom: 31.733%;\n    background: #c8c8c8;\n    border-radius: 2px;\n    overflow: hidden;\n    -webkit-touch-callout: none;\n}\n.image__list .pic-view img[data-v-1d115b71] {\n      position: absolute;\n      top: 50%;\n      left: 50%;\n      display: block;\n      max-width: 100%;\n      -webkit-transform: translate(-50%, -50%);\n              transform: translate(-50%, -50%);\n}\n.image__list .pic-view .pic--loading[data-v-1d115b71] {\n      width: 75%;\n}\n"],sourceRoot:""}])},XgT2:function(e,t,a){var l=a("JdkT");"string"==typeof l&&(l=[[e.i,l,""]]),l.locals&&(e.exports=l.locals);a("rjj0")("0118cb29",l,!0)},kAf9:function(e,t,a){"use strict";var l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"business__product"},[a("el-form",{ref:"form",staticClass:"product__form",attrs:{model:e.product,"label-width":"80px"}},[a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:e.product.sale_id,expression:"product.sale_id"}],attrs:{label:"号码"}},[a("el-input",{attrs:{placeholder:"LOT",value:""},model:{value:e.product.number,callback:function(t){e.product.number=t},expression:"product.number"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"起拍价格",prop:"price",rules:[{required:!0,message:"起拍价格不能为空"}]}},[a("el-col",{attrs:{span:3}},[a("el-select",{attrs:{placeholder:""},model:{value:e.product.currency,callback:function(t){e.product.currency=t},expression:"product.currency"}},[a("el-option",{attrs:{label:"￥",value:"￥"}}),e._v(" "),a("el-option",{attrs:{label:"$",value:"$"}}),e._v(" "),a("el-option",{attrs:{label:"£",value:"£"}}),e._v(" "),a("el-option",{attrs:{label:"€",value:"€"}})],1)],1),e._v(" "),a("el-col",{staticClass:"pl10",attrs:{span:10}},[a("el-input",{attrs:{placeholder:"起拍价格",value:""},model:{value:e.product.price,callback:function(t){e.product.price=t},expression:"product.price"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"市场估价"}},[a("el-col",{attrs:{span:3}},[a("el-select",{attrs:{placeholder:""},model:{value:e.product.currency,callback:function(t){e.product.currency=t},expression:"product.currency"}},[a("el-option",{attrs:{label:"￥",value:"￥"}}),e._v(" "),a("el-option",{attrs:{label:"$",value:"$"}}),e._v(" "),a("el-option",{attrs:{label:"£",value:"£"}}),e._v(" "),a("el-option",{attrs:{label:"€",value:"€"}})],1)],1),e._v(" "),a("el-col",{staticClass:"pl10",attrs:{span:10}},[a("el-input",{attrs:{placeholder:"市场估价",value:""},model:{value:e.product.valuation,callback:function(t){e.product.valuation=t},expression:"product.valuation"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"材质"}},[a("el-select",{attrs:{multiple:"",placeholder:"请选择材质"},model:{value:e.product.material,callback:function(t){e.product.material=t},expression:"product.material"}},e._l(e.groups,function(t){return a("el-option-group",{key:t.label,attrs:{label:t.label}},e._l(t.options,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))}))],1),e._v(" "),a("el-form-item",{attrs:{label:"长宽高"}},[a("el-col",{attrs:{span:3}},[a("el-select",{attrs:{placeholder:""},model:{value:e.product.measurement_unit,callback:function(t){e.product.measurement_unit=t},expression:"product.measurement_unit"}},[a("el-option",{attrs:{label:"cm",value:"cm"}}),e._v(" "),a("el-option",{attrs:{label:"inch",value:"inch"}})],1)],1),e._v(" "),a("el-col",{staticClass:"pl10",attrs:{span:10}},[a("el-input",{attrs:{placeholder:"x*y*z",value:""},model:{value:e.product.inch,callback:function(t){e.product.inch=t},expression:"product.inch"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"重量"}},[a("el-col",{attrs:{span:3}},[a("el-select",{attrs:{placeholder:""},model:{value:e.product.weight_unit,callback:function(t){e.product.weight_unit=t},expression:"product.weight_unit"}},[a("el-option",{attrs:{label:"g",value:"g"}}),e._v(" "),a("el-option",{attrs:{label:"lb",value:"lb"}}),e._v(" "),a("el-option",{attrs:{label:"oz",value:"oz"}})],1)],1),e._v(" "),a("el-col",{staticClass:"pl10",attrs:{span:10}},[a("el-input",{attrs:{placeholder:"重量",value:""},model:{value:e.product.weight,callback:function(t){e.product.weight=t},expression:"product.weight"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"商品状况"}},[a("el-select",{attrs:{placeholder:"请选择商品状况"},model:{value:e.product.item_status,callback:function(t){e.product.item_status=t},expression:"product.item_status"}},[a("el-option",{attrs:{label:"完好",value:"完好"}}),e._v(" "),a("el-option",{attrs:{label:"很好",value:"很好"}}),e._v(" "),a("el-option",{attrs:{label:"磨损",value:"磨损"}}),e._v(" "),a("el-option",{attrs:{label:"裂痕",value:"裂痕"}}),e._v(" "),a("el-option",{attrs:{label:"断裂",value:"断裂"}}),e._v(" "),a("el-option",{attrs:{label:"易碎",value:"易碎"}}),e._v(" "),a("el-option",{attrs:{label:"背部贴板",value:"背部贴板"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"原属国"}},[a("el-col",{attrs:{span:6}},[a("el-select",{attrs:{placeholder:"商品原属国"},model:{value:e.product.origin,callback:function(t){e.product.origin=t},expression:"product.origin"}},[a("el-option",{attrs:{label:"中国",value:"中国"}}),e._v(" "),a("el-option",{attrs:{label:"美国",value:"美国"}}),e._v(" "),a("el-option",{attrs:{label:"非洲",value:"非洲"}}),e._v(" "),a("el-option",{attrs:{label:"欧洲",value:"欧洲"}}),e._v(" "),a("el-option",{attrs:{label:"日本",value:"日本"}})],1)],1),e._v(" "),a("el-col",{staticClass:"pl10",attrs:{span:18}},[a("el-input",{attrs:{placeholder:"地区",value:""},model:{value:e.product.origin2,callback:function(t){e.product.origin2=t},expression:"product.origin2"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"年份"}},[a("el-col",{attrs:{span:6}},[a("el-select",{attrs:{placeholder:""},model:{value:e.product.year,callback:function(t){e.product.year=t},expression:"product.year"}},[a("el-option",{attrs:{label:"公元",value:"公元"}}),e._v(" "),a("el-option",{attrs:{label:"公元前",value:"公元前"}})],1)],1),e._v(" "),a("el-col",{staticClass:"pl10",attrs:{span:18}},[a("el-input",{attrs:{placeholder:"商品年份",value:""},model:{value:e.product.year2,callback:function(t){e.product.year2=t},expression:"product.year2"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"品类"}},[a("el-col",{attrs:{span:12}},[a("el-select",{attrs:{placeholder:""},on:{change:function(e){}},model:{value:e.product.category,callback:function(t){e.product.category=t},expression:"product.category"}},[a("el-option",{attrs:{label:"玩具",value:"玩具"}}),e._v(" "),a("el-option",{attrs:{label:"画意",value:"画意"}}),e._v(" "),a("el-option",{attrs:{label:"家居",value:"家居"}}),e._v(" "),a("el-option",{attrs:{label:"珠宝",value:"珠宝"}}),e._v(" "),a("el-option",{attrs:{label:"礼乐",value:"礼乐"}}),e._v(" "),a("el-option",{attrs:{label:"影像",value:"影像"}}),e._v(" "),a("el-option",{attrs:{label:"时尚",value:"时尚"}}),e._v(" "),a("el-option",{attrs:{label:"收藏",value:"收藏"}}),e._v(" "),a("el-option",{attrs:{label:"古酒",value:"古酒"}})],1)],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"作者"}},[a("el-input",{attrs:{placeholder:"作者",value:""},model:{value:e.product.author,callback:function(t){e.product.author=t},expression:"product.author"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"商品图片"}},[a("section",{staticClass:"image__list"},[e._l(e.pics,function(t,l){return a("div",{staticClass:"pic-view"},[a("img",{attrs:{src:t,"data-src":t,"data-index":l},on:{load:e.handlelaodImg,click:e.handleScaleImage}})])}),e._v(" "),a("div",{staticClass:"image--add",attrs:{id:"container"}},[a("p",{directives:[{name:"show",rawName:"v-show",value:e.pics.length<9,expression:"pics.length<9"}],staticClass:"camera",attrs:{id:"file"}})])],2)]),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.handelconfirm}},[e._v("立即创建")]),e._v(" "),a("el-button",[e._v("取消")])],1)],1)],1)},o=[],i={render:l,staticRenderFns:o};t.a=i}});
//# sourceMappingURL=4.9db3db4a89866f651c86.js.map