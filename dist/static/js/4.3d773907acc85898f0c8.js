webpackJsonp([4],{"1kS7":function(t,e){e.f=Object.getOwnPropertySymbols},DiMs:function(t,e,a){"use strict";var l=a("woOf"),o=a.n(l),i=a("mvHQ"),n=a.n(i);e.a={name:"business-product",props:{isCollapse:!0},data:function(){return{scaleImages:[],pics:[],product:{sale_id:0,auction_id:3,number:"",currency:"￥",price:"",valuation:"",material:[],measurement_unit:"cm",inch:"",weight_unit:"g",weight:"",item_status:"完好",come_from:"",origin:"中国",origin2:"",year:"1800~1810",year2:"",category:"画意",category2:"",category3:"",author:"",pics:[]},oReset:{currency:"￥",price:"",valuation:"",material:[],measurement_unit:"cm",inch:"",weight_unit:"g",weight:"",item_status:"完好",come_from:"",origin:"中国",origin2:"",year:"1800~1810",year2:"",category:"画意",category2:"",category3:"",author:"",pics:[]},groups:[{label:"金属",options:[{value:"金",label:"金"},{value:"银",label:"银"},{value:"铁",label:"铁"},{value:"铜",label:"铜"}]},{label:"石材",options:[{value:"钻石",label:"钻石"},{value:"大理石",label:"大理石"},{value:"玉石",label:"玉石"},{value:"水晶",label:"水晶"}]},{label:"布料",options:[{value:"锦",label:"锦"},{value:"罗",label:"罗"},{value:"绸",label:"绸"},{value:"缎",label:"缎"}]},{label:"其它",options:[{value:"木头",label:"木头"},{value:"纸",label:"纸"},{value:"皮革",label:"皮革"},{value:"玻璃",label:"玻璃"},{value:"毛料",label:"毛料"}]}]}},created:function(){this.product.sale_id=+this.$route.params.id,this.product.auction_id=+this.$route.query.auction_id,this.product.sale_id&&this.getProduct(this.product.sale_id)},mounted:function(){var t=this;setTimeout(function(){t.initUpload()},1e3)},methods:{getProduct:function(t){var e=this,a=API.business.GET_SALE,l={sale_id:t};return request.get(a,l).then(function(t){if(t&&t.data){var a=t.data;return console.log(t),e.product=a,e.pics=e.product.pics,a}}).catch(function(t){console.log(t)})},initUpload:function(){var t=this;Qiniu.uploader({disable_statistics_report:!1,runtimes:"html5,flash,html4",browse_button:"file",uptoken_url:API.business.UPTOKEN,get_new_uptoken:!1,domain:"http://ox4oktbuv.bkt.clouddn.com/",container:"container",max_file_size:"100mb",max_retries:3,dragdrop:!0,drop_element:"container",chunk_size:"4mb",auto_start:!0,resize:{quality:60},init:{FilesAdded:function(e,a){plupload.each(a,function(e){var a=new FileReader;a.onload=function(e){var a=e.target.result;t.pics.push(a)},a.readAsDataURL(e.getNative())})},BeforeUpload:function(t,e){},UploadProgress:function(t,e){},FileUploaded:function(e,a,l){var o=e.getOption("domain"),i=JSON.parse(l.response),n=o+i.key,r=1,s=a.id;t.pics.forEach(function(t,e){if(s===t.id)return void(r=e)}),t.product.pics.push(n)},Error:function(t,e,a){},UploadComplete:function(){},Key:function(t,e){var a=e.id,l=e.name;return a+(l&&l.substring(l.indexOf("."))||"")}}})},handlelaodImg:function(t){var e=this,a=t.target,l=(a.parentNode,a.dataset.src||a.src),o=+a.dataset.index||0,i=a.naturalWidth||a.width,n=a.naturalHeight||a.height;if(l){var r={src:l,w:i||750,h:n||520};this.scaleImages[o]=r;var s=new Image;s.onload=function(t){e.scaleImages.forEach(function(t){l===t.src&&(t.w=s.naturalWidth||s.width,t.h=s.naturalHeight||s.height)})},s.src=l}},handleScaleImage:function(t){var e=t.target,a=(e.dataset.src||e.src,document.querySelector(".J_pswp")),l=+e.dataset.index||0,o=this.scaleImages,i={index:l,loop:!1,maxSpreadZoom:5,showAnimationDuration:300,hideAnimationDuration:300,showHideOpacity:!0,closeEl:!1,captionEl:!1,fullscreenEl:!1,zoomEl:!1,shareEl:!1,counterEl:!1,arrowEl:!1,preloaderEl:!1,isClickableElement:function(t){},getThumbBoundsFn:function(t){var a=e,l=window.pageYOffset||document.documentElement.scrollTop,o=a.getBoundingClientRect();return{x:o.left,y:o.top+l,w:o.width}}};this.gallery=null,(this.gallery=new PhotoSwipe(a,PhotoSwipeUI_Default,o,i)).init()},setRecord:function(){var t=this.product,e="purart"+this.product.auction_id,a={currency:t.key,measurement_unit:t.measurement_unit,item_status:t.item_status,origin:t.origin,origin2:t.origin2,year:t.year,category:t.category};localStorage.setItem(e,n()(a))},handelreset:function(t){this.product=o()(this.product,this.oReset,{})},handelconfirm:function(){var t=this,e=API.business.CREAT_PRODUCT;return request.post(e,this.product).then(function(e){if(e&&e.data){var a=e.data;return console.log(e),t.$message({showClose:!0,message:"拍品创建成功",type:"success"}),t.product={sale_id:0,auction_id:3,number:"",currency:"￥",price:"",valuation:"",material:[],measurement_unit:"cm",inch:"",weight_unit:"g",weight:"",item_status:"完好",come_from:"",origin:"中国",origin2:"",year:"公元",year2:"",category:"画意",category2:"",category3:"",author:"",pics:[]},a}}).catch(function(t){console.log(t)})}}}},HXpv:function(t,e,a){"use strict";function l(t){a("XgT2")}Object.defineProperty(e,"__esModule",{value:!0});var o=a("DiMs"),i=a("kAf9"),n=a("VU/8"),r=l,s=n(o.a,i.a,r,"data-v-1d115b71",null);e.default=s.exports},JdkT:function(t,e,a){e=t.exports=a("FZ+f")(!0),e.i(a("PLky"),""),e.push([t.i,'.page-fixed[data-v-1d115b71]{z-index:1;position:fixed;top:0;left:0;width:100%}.business__product[data-v-1d115b71]{padding:20px 0;max-width:650px}.image__list[data-v-1d115b71]{display:-webkit-box;display:-ms-flexbox;display:-webkit-flex;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:start;-ms-flex-pack:start;justify-content:flex-start;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-flow:row wrap;flex-flow:row wrap;padding:15px 0 13px}.image__list .image--add[data-v-1d115b71]{position:relative;margin:0 .8% 1.6%;width:31.733%;padding-bottom:31.733%;border-radius:2px;border:1px solid #c8c8c8;cursor:pointer}.image__list .image--add .camera[data-v-1d115b71]{z-index:1;position:absolute;top:0;left:0;bottom:0;width:100%;opacity:0}.image__list .image--add[data-v-1d115b71]:after,.image__list .image--add[data-v-1d115b71]:before{content:"";position:absolute;top:50%;left:50%;width:53px;height:1px;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%);background:#c8c8c8}.image__list .image--add[data-v-1d115b71]:after{width:1px;height:53px}.image__list .pic-view[data-v-1d115b71]{position:relative;margin:0 .8% 1.6%;width:31.733%;padding-bottom:31.733%;background:#c8c8c8;border-radius:2px;overflow:hidden;-webkit-touch-callout:none}.image__list .pic-view img[data-v-1d115b71]{position:absolute;top:50%;left:50%;display:block;max-width:100%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}.image__list .pic-view .pic--loading[data-v-1d115b71]{width:75%}',"",{version:3,sources:["/Users/dong/Desktop/chenzhou/work/purart/src/pages/business/product.vue"],names:[],mappings:"AAGA,6BACE,UAAW,AACX,eAAgB,AAChB,MAAO,AACP,OAAQ,AACR,UAAY,CACb,AACD,oCACE,eAAgB,AAChB,eAAiB,CAClB,AAID,8BACE,oBAAqB,AACrB,oBAAqB,AACrB,qBAAsB,AACtB,aAAc,AACd,yBAA0B,AACtB,sBAAuB,AACnB,mBAAoB,AAC5B,uBAAwB,AACpB,oBAAqB,AACjB,2BAA4B,AACpC,8BAA+B,AAC/B,6BAA8B,AAC1B,uBAAwB,AACpB,mBAAoB,AAC5B,mBAAqB,CACtB,AACD,0CACI,kBAAmB,AACnB,kBAAoB,AACpB,cAAe,AACf,uBAAwB,AACxB,kBAAmB,AACnB,yBAA0B,AAC1B,cAAgB,CACnB,AACD,kDACM,UAAW,AACX,kBAAmB,AACnB,MAAO,AACP,OAAQ,AACR,SAAU,AACV,WAAY,AACZ,SAAW,CAChB,AACD,iGAEI,WAAY,AACZ,kBAAmB,AACnB,QAAS,AACT,SAAU,AACV,WAAY,AACZ,WAAY,AACZ,uCAAyC,AACjC,+BAAiC,AACzC,kBAAoB,CACvB,AACD,gDACI,UAAW,AACX,WAAa,CAChB,AACD,wCACI,kBAAmB,AACnB,kBAAoB,AACpB,cAAe,AACf,uBAAwB,AACxB,mBAAoB,AACpB,kBAAmB,AACnB,gBAAiB,AACjB,0BAA4B,CAC/B,AACD,4CACM,kBAAmB,AACnB,QAAS,AACT,SAAU,AACV,cAAe,AACf,eAAgB,AAChB,uCAAyC,AACjC,8BAAiC,CAC9C,AACD,sDACM,SAAW,CAChB",file:"product.vue",sourcesContent:["\n@charset \"UTF-8\";\n@import url(~@/style/base.css);\n.page-fixed[data-v-1d115b71] {\n  z-index: 1;\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100%;\n}\n.business__product[data-v-1d115b71] {\n  padding: 20px 0;\n  max-width: 650px;\n}\n\n/*-------------------*  $ 图片作答\n\\*-------------------*/\n.image__list[data-v-1d115b71] {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: -webkit-flex;\n  display: flex;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center;\n  -webkit-box-pack: start;\n      -ms-flex-pack: start;\n          justify-content: flex-start;\n  -webkit-box-orient: horizontal;\n  -webkit-box-direction: normal;\n      -ms-flex-flow: row wrap;\n          flex-flow: row wrap;\n  padding: 15px 0 13px;\n}\n.image__list .image--add[data-v-1d115b71] {\n    position: relative;\n    margin: 0 0.8% 1.6%;\n    width: 31.733%;\n    padding-bottom: 31.733%;\n    border-radius: 2px;\n    border: 1px solid #C8C8C8;\n    cursor: pointer;\n}\n.image__list .image--add .camera[data-v-1d115b71] {\n      z-index: 1;\n      position: absolute;\n      top: 0;\n      left: 0;\n      bottom: 0;\n      width: 100%;\n      opacity: 0;\n}\n.image__list .image--add[data-v-1d115b71]:before,\n  .image__list .image--add[data-v-1d115b71]:after {\n    content: '';\n    position: absolute;\n    top: 50%;\n    left: 50%;\n    width: 53px;\n    height: 1px;\n    -webkit-transform: translate(-50%, -50%);\n            transform: translate(-50%, -50%);\n    background: #C8C8C8;\n}\n.image__list .image--add[data-v-1d115b71]:after {\n    width: 1px;\n    height: 53px;\n}\n.image__list .pic-view[data-v-1d115b71] {\n    position: relative;\n    margin: 0 0.8% 1.6%;\n    width: 31.733%;\n    padding-bottom: 31.733%;\n    background: #c8c8c8;\n    border-radius: 2px;\n    overflow: hidden;\n    -webkit-touch-callout: none;\n}\n.image__list .pic-view img[data-v-1d115b71] {\n      position: absolute;\n      top: 50%;\n      left: 50%;\n      display: block;\n      max-width: 100%;\n      -webkit-transform: translate(-50%, -50%);\n              transform: translate(-50%, -50%);\n}\n.image__list .pic-view .pic--loading[data-v-1d115b71] {\n      width: 75%;\n}\n"],sourceRoot:""}])},NpIQ:function(t,e){e.f={}.propertyIsEnumerable},R4wc:function(t,e,a){var l=a("kM2E");l(l.S+l.F,"Object",{assign:a("To3L")})},To3L:function(t,e,a){"use strict";var l=a("lktj"),o=a("1kS7"),i=a("NpIQ"),n=a("sB3e"),r=a("MU5D"),s=Object.assign;t.exports=!s||a("S82l")(function(){var t={},e={},a=Symbol(),l="abcdefghijklmnopqrst";return t[a]=7,l.split("").forEach(function(t){e[t]=t}),7!=s({},t)[a]||Object.keys(s({},e)).join("")!=l})?function(t,e){for(var a=n(t),s=arguments.length,c=1,u=o.f,p=i.f;s>c;)for(var d,A=r(arguments[c++]),v=u?l(A).concat(u(A)):l(A),m=v.length,b=0;m>b;)p.call(A,d=v[b++])&&(a[d]=A[d]);return a}:s},V3tA:function(t,e,a){a("R4wc"),t.exports=a("FeBl").Object.assign},XgT2:function(t,e,a){var l=a("JdkT");"string"==typeof l&&(l=[[t.i,l,""]]),l.locals&&(t.exports=l.locals);a("rjj0")("0118cb29",l,!0)},kAf9:function(t,e,a){"use strict";var l=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"business__product"},[a("el-form",{ref:"form",staticClass:"product__form",attrs:{model:t.product,"label-width":"80px"}},[a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:t.product.sale_id,expression:"product.sale_id"}],attrs:{label:"号码"}},[a("p",{},[t._v(t._s(t.product.number))])]),t._v(" "),a("el-form-item",{attrs:{label:"起拍价格",prop:"price",rules:[{required:!0,message:"起拍价格不能为空"}]}},[a("el-col",{attrs:{span:3}},[a("el-select",{attrs:{placeholder:""},model:{value:t.product.currency,callback:function(e){t.product.currency=e},expression:"product.currency"}},[a("el-option",{attrs:{label:"￥",value:"￥"}}),t._v(" "),a("el-option",{attrs:{label:"$",value:"$"}}),t._v(" "),a("el-option",{attrs:{label:"£",value:"£"}}),t._v(" "),a("el-option",{attrs:{label:"€",value:"€"}})],1)],1),t._v(" "),a("el-col",{staticClass:"pl10",attrs:{span:10}},[a("el-input",{attrs:{placeholder:"起拍价格",value:""},model:{value:t.product.price,callback:function(e){t.product.price=e},expression:"product.price"}})],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"市场估价",prop:"currency"}},[a("el-col",{attrs:{span:3}},[a("el-select",{attrs:{placeholder:""},model:{value:t.product.currency,callback:function(e){t.product.currency=e},expression:"product.currency"}},[a("el-option",{attrs:{label:"￥",value:"￥"}}),t._v(" "),a("el-option",{attrs:{label:"$",value:"$"}}),t._v(" "),a("el-option",{attrs:{label:"£",value:"£"}}),t._v(" "),a("el-option",{attrs:{label:"€",value:"€"}})],1)],1),t._v(" "),a("el-col",{staticClass:"pl10",attrs:{span:10}},[a("el-input",{attrs:{placeholder:"市场估价",value:""},model:{value:t.product.valuation,callback:function(e){t.product.valuation=e},expression:"product.valuation"}})],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"材质"}},[a("el-select",{attrs:{multiple:"",placeholder:"请选择材质"},model:{value:t.product.material,callback:function(e){t.product.material=e},expression:"product.material"}},t._l(t.groups,function(e){return a("el-option-group",{key:e.label,attrs:{label:e.label}},t._l(e.options,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}))}))],1),t._v(" "),a("el-form-item",{attrs:{label:"长宽高"}},[a("el-col",{attrs:{span:3}},[a("el-select",{attrs:{placeholder:""},model:{value:t.product.measurement_unit,callback:function(e){t.product.measurement_unit=e},expression:"product.measurement_unit"}},[a("el-option",{attrs:{label:"cm",value:"cm"}}),t._v(" "),a("el-option",{attrs:{label:"inch",value:"inch"}})],1)],1),t._v(" "),a("el-col",{staticClass:"pl10",attrs:{span:10}},[a("el-input",{attrs:{placeholder:"x*y*z",value:""},model:{value:t.product.inch,callback:function(e){t.product.inch=e},expression:"product.inch"}})],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"重量"}},[a("el-col",{attrs:{span:3}},[a("el-select",{attrs:{placeholder:""},model:{value:t.product.weight_unit,callback:function(e){t.product.weight_unit=e},expression:"product.weight_unit"}},[a("el-option",{attrs:{label:"g",value:"g"}}),t._v(" "),a("el-option",{attrs:{label:"lb",value:"lb"}}),t._v(" "),a("el-option",{attrs:{label:"oz",value:"oz"}})],1)],1),t._v(" "),a("el-col",{staticClass:"pl10",attrs:{span:10}},[a("el-input",{attrs:{placeholder:"重量",value:""},model:{value:t.product.weight,callback:function(e){t.product.weight=e},expression:"product.weight"}})],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"商品状况"}},[a("el-select",{attrs:{placeholder:"请选择商品状况"},model:{value:t.product.item_status,callback:function(e){t.product.item_status=e},expression:"product.item_status"}},[a("el-option",{attrs:{label:"完好",value:"完好"}}),t._v(" "),a("el-option",{attrs:{label:"很好",value:"很好"}}),t._v(" "),a("el-option",{attrs:{label:"磨损",value:"磨损"}}),t._v(" "),a("el-option",{attrs:{label:"裂痕",value:"裂痕"}}),t._v(" "),a("el-option",{attrs:{label:"断裂",value:"断裂"}}),t._v(" "),a("el-option",{attrs:{label:"易碎",value:"易碎"}}),t._v(" "),a("el-option",{attrs:{label:"背部贴板",value:"背部贴板"}})],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"原属国"}},[a("el-col",{attrs:{span:6}},[a("el-select",{attrs:{placeholder:"商品原属国"},model:{value:t.product.origin,callback:function(e){t.product.origin=e},expression:"product.origin"}},[a("el-option",{attrs:{label:"中国",value:"中国"}}),t._v(" "),a("el-option",{attrs:{label:"美国",value:"美国"}}),t._v(" "),a("el-option",{attrs:{label:"非洲",value:"非洲"}}),t._v(" "),a("el-option",{attrs:{label:"欧洲",value:"欧洲"}}),t._v(" "),a("el-option",{attrs:{label:"日本",value:"日本"}})],1)],1),t._v(" "),a("el-col",{staticClass:"pl10",attrs:{span:18}},[a("el-input",{attrs:{placeholder:"地区",value:""},model:{value:t.product.origin2,callback:function(e){t.product.origin2=e},expression:"product.origin2"}})],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"年份"}},[a("el-col",{attrs:{span:10}},[a("el-select",{attrs:{placeholder:"请选择年份"},model:{value:t.product.year,callback:function(e){t.product.year=e},expression:"product.year"}},[a("el-option",{attrs:{label:"1800~1810",value:"1800~1810"}}),t._v(" "),a("el-option",{attrs:{label:"1810~1820",value:"1810~1820"}}),t._v(" "),a("el-option",{attrs:{label:"1820~1830",value:"1820~1830"}}),t._v(" "),a("el-option",{attrs:{label:"1830~1840",value:"1830~1840"}}),t._v(" "),a("el-option",{attrs:{label:"1840~1850",value:"1840~1850"}}),t._v(" "),a("el-option",{attrs:{label:"1850~1860",value:"1850~1860"}}),t._v(" "),a("el-option",{attrs:{label:"1860~1870",value:"1860~1870"}}),t._v(" "),a("el-option",{attrs:{label:"1870~1880",value:"1870~1880"}}),t._v(" "),a("el-option",{attrs:{label:"1880~1890",value:"1880~1890"}}),t._v(" "),a("el-option",{attrs:{label:"1890~1900",value:"1890~1900"}}),t._v(" "),a("el-option",{attrs:{label:"1900~1910",value:"1900~1910"}}),t._v(" "),a("el-option",{attrs:{label:"1910~1920",value:"1910~1920"}}),t._v(" "),a("el-option",{attrs:{label:"1920~1930",value:"1920~1930"}}),t._v(" "),a("el-option",{attrs:{label:"1930~1940",value:"1930~1940"}}),t._v(" "),a("el-option",{attrs:{label:"1940~1950",value:"1940~1950"}}),t._v(" "),a("el-option",{attrs:{label:"1950~1960",value:"1950~1960"}}),t._v(" "),a("el-option",{attrs:{label:"1960~1970",value:"1960~1970"}}),t._v(" "),a("el-option",{attrs:{label:"1970~1980",value:"1970~1980"}}),t._v(" "),a("el-option",{attrs:{label:"1980~1990",value:"1980~1990"}}),t._v(" "),a("el-option",{attrs:{label:"1990~2000",value:"1990~2000"}})],1)],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"品类"}},[a("el-col",{attrs:{span:12}},[a("el-select",{attrs:{placeholder:""},on:{change:function(t){}},model:{value:t.product.category,callback:function(e){t.product.category=e},expression:"product.category"}},[a("el-option",{attrs:{label:"玩具",value:"玩具"}}),t._v(" "),a("el-option",{attrs:{label:"画意",value:"画意"}}),t._v(" "),a("el-option",{attrs:{label:"家居",value:"家居"}}),t._v(" "),a("el-option",{attrs:{label:"珠宝",value:"珠宝"}}),t._v(" "),a("el-option",{attrs:{label:"礼乐",value:"礼乐"}}),t._v(" "),a("el-option",{attrs:{label:"影像",value:"影像"}}),t._v(" "),a("el-option",{attrs:{label:"时尚",value:"时尚"}}),t._v(" "),a("el-option",{attrs:{label:"收藏",value:"收藏"}}),t._v(" "),a("el-option",{attrs:{label:"古酒",value:"古酒"}})],1)],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"作者"}},[a("el-input",{attrs:{placeholder:"作者",value:""},model:{value:t.product.author,callback:function(e){t.product.author=e},expression:"product.author"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"商品图片"}},[a("section",{staticClass:"image__list"},[t._l(t.pics,function(e,l){return a("div",{staticClass:"pic-view"},[a("img",{attrs:{src:e,"data-src":e,"data-index":l},on:{load:t.handlelaodImg,click:t.handleScaleImage}})])}),t._v(" "),a("div",{staticClass:"image--add",attrs:{id:"container"}},[a("p",{directives:[{name:"show",rawName:"v-show",value:t.pics.length<9,expression:"pics.length<9"}],staticClass:"camera",attrs:{id:"file"}})])],2)]),t._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:t.handelconfirm}},[t._v("立即创建")]),t._v(" "),a("el-button",{on:{click:t.handelreset}},[t._v("重置")])],1)],1)],1)},o=[],i={render:l,staticRenderFns:o};e.a=i},woOf:function(t,e,a){t.exports={default:a("V3tA"),__esModule:!0}}});
//# sourceMappingURL=4.3d773907acc85898f0c8.js.map